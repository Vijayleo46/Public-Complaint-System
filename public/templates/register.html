{% include 'publicheader.html' %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>User Registration</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body {
      background: #f0f2f5;
      font-family: 'Segoe UI', sans-serif;
    }
    .registration-card {
      max-width: 600px;
      margin: 60px auto;
      background-color: #fff;
      border-radius: 12px;
      box-shadow: 0 0 12px rgba(0,0,0,0.1);
      padding: 30px;
    }
    .registration-header {
      text-align: center;
      margin-bottom: 30px;
    }
    .registration-header h2 {
      font-weight: bold;
      color: #007B5E;
    }
    .btn-register {
      width: 100%;
      background-color: #28a745;
      color: #fff;
      font-weight: 600;
    }
    .form-label {
      margin-top: 15px;
    }
  </style>
<script>
  function validateForm() {
    const fname = document.forms["regForm"]["fname"].value.trim();
    const lname = document.forms["regForm"]["lname"].value.trim();
    const hname = document.forms["regForm"]["hname"].value.trim();
    const place = document.forms["regForm"]["place"].value.trim();
    const phone = document.forms["regForm"]["phone"].value.trim();
    const email = document.forms["regForm"]["email"].value.trim();
    const username = document.forms["regForm"]["username"].value.trim();
    const password = document.forms["regForm"]["password"].value.trim();

    const nameRegex = /^[A-Za-z\s]+$/;
    const phoneRegex = /^\d{10}$/;
    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    const passwordRegex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[\W_]).{8,}$/;

    if (!fname || !nameRegex.test(fname)) {
      alert("Please enter a valid first name (letters and spaces only).");
      return false;
    }
    if (!lname || !nameRegex.test(lname)) {
      alert("Please enter a valid last name (letters and spaces only).");
      return false;
    }
    if (!hname) {
      alert("Please enter your house name.");
      return false;
    }
    if (!place || !nameRegex.test(place)) {
      alert("Please enter a valid place (letters and spaces only).");
      return false;
    }
    if (!phone || !phoneRegex.test(phone)) {
      alert("Please enter a valid 10-digit phone number.");
      return false;
    }
    if (!email || !emailRegex.test(email)) {
      alert("Please enter a valid email address.");
      return false;
    }
    if (!username) {
      alert("Please enter a username.");
      return false;
    }
    if (!password || !passwordRegex.test(password)) {
      alert("Password must be at least 8 characters long and include uppercase, lowercase, number, and special character.");
      return false;
    }

    return true;
  }
</script>
</head>
<body>

<div class="registration-card">
  <div class="registration-header">
    <h2>Public User Registration</h2>
  </div>
  <form name="regForm" method="post" onsubmit="return validateForm();">
    <div class="mb-3">
      <label class="form-label">First Name</label>
      <input type="text" name="fname" class="form-control" required>
    </div>
     <div class="mb-3">
      <label class="form-label">Last Name</label>
      <input type="text" name="lname" class="form-control" required>
    </div>
     <div class="mb-3">
      <label class="form-label">House Name</label>
      <input type="text" name="hname" class="form-control" required>
    </div>
    <div class="mb-3">
      <label class="form-label">Place</label>
      <input type="text" name="place" class="form-control" required>
    </div>
    <div class="mb-3">
      <label class="form-label">Phone</label>
      <input type="text" name="phone" class="form-control" maxlength="10" required>
    </div>
    <div class="mb-3">
      <label class="form-label">Email</label>
      <input type="email" name="email" class="form-control" required>
    </div>
    <div class="mb-3">
      <label class="form-label">Username</label>
      <input type="text" name="username" class="form-control" required>
    </div>

    <div class="mb-3">
      <label class="form-label">Password</label>
      <input type="password" name="password" class="form-control" required>
    </div>

    <!-- Optional future field
    <div class="mb-3">
      <label class="form-label">Pincode</label>
      <input type="text" name="pincode" class="form-control">
    </div>
    -->

    <button type="submit" name="submit" class="btn btn-register mt-3">Register</button>
  </form>
</div>

</body>
</html>
{% include 'footer.html' %}